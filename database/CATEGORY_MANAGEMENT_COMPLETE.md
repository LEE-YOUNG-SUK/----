# âœ… ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ í˜ì´ì§€ êµ¬í˜„ ì™„ë£Œ

## ì‘ì„±ì¼: 2025-01-26
## ìƒíƒœ: êµ¬í˜„ ì™„ë£Œ âœ…

---

## ğŸ¯ êµ¬í˜„ ë‚´ìš©

ì‹œìŠ¤í…œ ê´€ë¦¬ìê°€ í’ˆëª© ì¹´í…Œê³ ë¦¬ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

---

## ğŸ“‚ ìƒì„±ëœ íŒŒì¼

### 1. ë°ì´í„°ë² ì´ìŠ¤ (1ê°œ)

#### âœ… `database/product_categories_rpc.sql`
- `get_categories_list()` - ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ (í’ˆëª© ê°œìˆ˜ í¬í•¨)
- `create_category()` - ì¹´í…Œê³ ë¦¬ ìƒì„±
- `update_category()` - ì¹´í…Œê³ ë¦¬ ìˆ˜ì •
- `delete_category()` - ì¹´í…Œê³ ë¦¬ ì‚­ì œ (í’ˆëª©ì´ ì—†ì„ ë•Œë§Œ)
- `update_categories_order()` - í‘œì‹œ ìˆœì„œ ì¼ê´„ ë³€ê²½

---

### 2. Server Actions (1ê°œ)

#### âœ… `app/admin/categories/actions.ts`
```typescript
- getCategories()          // ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ
- saveCategory()           // ì¹´í…Œê³ ë¦¬ ìƒì„±/ìˆ˜ì •
- deleteCategory()         // ì¹´í…Œê³ ë¦¬ ì‚­ì œ
- updateCategoriesOrder()  // ìˆœì„œ ë³€ê²½
```

---

### 3. UI ì»´í¬ë„ŒíŠ¸ (3ê°œ)

#### âœ… `components/admin/categories/CategoryTable.tsx`
- ì¹´í…Œê³ ë¦¬ ëª©ë¡ í…Œì´ë¸”
- ì½”ë“œ, ì´ë¦„, ì„¤ëª…, í‘œì‹œìˆœì„œ, í’ˆëª©ìˆ˜, ìƒíƒœ í‘œì‹œ
- ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼
- í’ˆëª©ì´ ìˆëŠ” ì¹´í…Œê³ ë¦¬ëŠ” ì‚­ì œ ë¹„í™œì„±í™”

#### âœ… `components/admin/categories/CategoryForm.tsx`
- ì¹´í…Œê³ ë¦¬ ì¶”ê°€/ìˆ˜ì • ëª¨ë‹¬
- í•„ë“œ: ì½”ë“œ, ì´ë¦„, ì„¤ëª…, í‘œì‹œìˆœì„œ, í™œì„±ìƒíƒœ
- ìœ íš¨ì„± ê²€ì‚¬ (ì½”ë“œ/ì´ë¦„ ì¤‘ë³µ ì²´í¬)

#### âœ… `components/admin/categories/CategoryManagement.tsx`
- í…Œì´ë¸” + í¼ í†µí•© ì»´í¬ë„ŒíŠ¸
- ìƒíƒœ ê´€ë¦¬

---

### 4. í˜ì´ì§€ (1ê°œ)

#### âœ… `app/admin/categories/page.tsx`
- URL: `/admin/categories`
- ê¶Œí•œ: ì‹œìŠ¤í…œ ê´€ë¦¬ì (0000)ë§Œ ì ‘ê·¼
- Server Component (ì„¸ì…˜ ê²€ì¦)

---

### 5. ê¶Œí•œ ì„¤ì • (1ê°œ)

#### âœ… `types/permissions.ts`
```typescript
// ë¦¬ì†ŒìŠ¤ íƒ€ì… ì¶”ê°€
| 'admin_settings'  // ê´€ë¦¬ì ì„¤ì • (ì¹´í…Œê³ ë¦¬ ë“±)

// ì‹œìŠ¤í…œ ê´€ë¦¬ì ê¶Œí•œ ì¶”ê°€
{ resource: 'admin_settings', action: 'read' },
{ resource: 'admin_settings', action: 'create' },
{ resource: 'admin_settings', action: 'update' },
{ resource: 'admin_settings', action: 'delete' },
```

---

### 6. ë„¤ë¹„ê²Œì´ì…˜ (1ê°œ)

#### âœ… `components/shared/Navigation.tsx`
```tsx
// ê´€ë¦¬ ë©”ë‰´ì— ì¶”ê°€
{
  href: '/admin/categories',
  label: 'ì¹´í…Œê³ ë¦¬',
  icon: 'ğŸ·ï¸',
  resource: 'admin_settings',
  action: 'read',
}
```

**ë©”ë‰´ ìœ„ì¹˜**: ê´€ë¦¬ > ì¹´í…Œê³ ë¦¬

---

## ğŸš€ ì ìš© ìˆœì„œ

### Step 1: RPC í•¨ìˆ˜ ìƒì„±
```sql
-- Supabase SQL Editorì—ì„œ ì‹¤í–‰
-- âœ… database/product_categories_rpc.sql
```

**ê²°ê³¼**: 5ê°œ RPC í•¨ìˆ˜ ìƒì„±

---

### Step 2: í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
```bash
npm run build
```

**ê²°ê³¼**: âœ… ë¹Œë“œ ì„±ê³µ (18ê°œ í˜ì´ì§€)

---

### Step 3: í˜ì´ì§€ ì ‘ì†
1. **admin ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸**
2. **ê´€ë¦¬ > ì¹´í…Œê³ ë¦¬** í´ë¦­
3. **URL**: `/admin/categories`

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### 1. ì¹´í…Œê³ ë¦¬ ëª©ë¡ ì¡°íšŒ
1. `/admin/categories` ì ‘ì†
2. **ê²°ê³¼**: 13ê°œ ì¹´í…Œê³ ë¦¬ ëª©ë¡ í‘œì‹œ âœ…

**í‘œì‹œ ì •ë³´**:
- ì½”ë“œ (00001~00013)
- ì¹´í…Œê³ ë¦¬ëª… (í•„ëŸ¬, ë³´í†¡ìŠ¤, ...)
- ì„¤ëª…
- í‘œì‹œìˆœì„œ
- í’ˆëª©ìˆ˜ (ì´ ì¹´í…Œê³ ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” í’ˆëª© ê°œìˆ˜)
- ìƒíƒœ (í™œì„±/ë¹„í™œì„±)

---

### 2. ì¹´í…Œê³ ë¦¬ ì¶”ê°€
1. "ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€" ë²„íŠ¼ í´ë¦­
2. ì½”ë“œ: `00014`
3. ì´ë¦„: `ê¸°íƒ€ìš©í’ˆ`
4. ì„¤ëª…: `ê¸°íƒ€ ë¶„ë¥˜ë˜ì§€ ì•Šì€ í’ˆëª©`
5. í‘œì‹œìˆœì„œ: `14`
6. ì €ì¥
7. **ê²°ê³¼**: ì¹´í…Œê³ ë¦¬ ìƒì„± ì„±ê³µ âœ…

---

### 3. ì¹´í…Œê³ ë¦¬ ìˆ˜ì •
1. ê¸°ì¡´ ì¹´í…Œê³ ë¦¬ "ìˆ˜ì •" ë²„íŠ¼ í´ë¦­
2. ì´ë¦„ ë³€ê²½: `ì•½/ì™¸ìš©` â†’ `ì•½/ì™¸ìš©ì œ`
3. ì €ì¥
4. **ê²°ê³¼**: ì¹´í…Œê³ ë¦¬ ìˆ˜ì • ì„±ê³µ âœ…
5. **ì˜í–¥**: ì´ ì¹´í…Œê³ ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  í’ˆëª©ì— ìë™ ë°˜ì˜

---

### 4. ì¹´í…Œê³ ë¦¬ ì‚­ì œ (í’ˆëª© ì—†ì„ ë•Œ)
1. í’ˆëª©ì´ ì—†ëŠ” ì¹´í…Œê³ ë¦¬ "ì‚­ì œ" ë²„íŠ¼ í´ë¦­
2. í™•ì¸
3. **ê²°ê³¼**: ì‚­ì œ ì„±ê³µ âœ…

---

### 5. ì¹´í…Œê³ ë¦¬ ì‚­ì œ ë°©ì§€ (í’ˆëª© ìˆì„ ë•Œ)
1. í’ˆëª©ì´ ìˆëŠ” ì¹´í…Œê³ ë¦¬ "ì‚­ì œ" ë²„íŠ¼ í™•ì¸
2. **ê²°ê³¼**: ë²„íŠ¼ ë¹„í™œì„±í™”ë¨ âœ…
3. **ë©”ì‹œì§€**: "ì‚¬ìš© ì¤‘ì¸ ì¹´í…Œê³ ë¦¬ëŠ” ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤"

---

### 6. ê¶Œí•œ ì²´í¬ (ì›ì¥/ë§¤ë‹ˆì € ì ‘ê·¼ ì‹œ)
1. ì›ì¥ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸
2. `/admin/categories` ì§ì ‘ ì ‘ì† ì‹œë„
3. **ê²°ê³¼**: `/` (ëŒ€ì‹œë³´ë“œ)ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ âœ…
4. **ì´ìœ **: `admin_settings` ê¶Œí•œ ì—†ìŒ

---

## ğŸ“Š UI êµ¬ì¡°

### ì¹´í…Œê³ ë¦¬ ëª©ë¡ í™”ë©´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ·ï¸ ì¹´í…Œê³ ë¦¬ ê´€ë¦¬                                  â”‚
â”‚ í’ˆëª© ì¹´í…Œê³ ë¦¬ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                  [â• ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì½”ë“œ  â”‚ ì¹´í…Œê³ ë¦¬ëª… â”‚ ì„¤ëª… â”‚ ìˆœì„œ â”‚ í’ˆëª©ìˆ˜ â”‚ ìƒíƒœ â”‚ ê´€ë¦¬â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 00001 â”‚ í•„ëŸ¬       â”‚  -   â”‚  1   â”‚  5ê°œ   â”‚ âœ…   â”‚ âœï¸ğŸ—‘ï¸â”‚
â”‚ 00002 â”‚ ë³´í†¡ìŠ¤     â”‚  -   â”‚  2   â”‚  3ê°œ   â”‚ âœ…   â”‚ âœï¸ğŸ—‘ï¸â”‚
â”‚ 00003 â”‚ ê¸°íƒ€ì˜ë    â”‚  -   â”‚  3   â”‚  0ê°œ   â”‚ âœ…   â”‚ âœï¸ğŸ—‘ï¸â”‚
â”‚ 00004 â”‚ ë¦¬í”„íŒ…ì‹¤   â”‚  -   â”‚  4   â”‚  2ê°œ   â”‚ âœ…   â”‚ âœï¸ğŸ—‘ï¸â”‚
â”‚ ...                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ì¹´í…Œê³ ë¦¬ ì¶”ê°€/ìˆ˜ì • í¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“‹ ê¸°ë³¸ ì •ë³´                       â”‚
â”‚                                    â”‚
â”‚ ì¹´í…Œê³ ë¦¬ ì½”ë“œ *                    â”‚
â”‚ [00014            ]                â”‚
â”‚ 5ìë¦¬ ìˆ«ì (ì¤‘ë³µ ë¶ˆê°€)             â”‚
â”‚                                    â”‚
â”‚ ì¹´í…Œê³ ë¦¬ëª… *                       â”‚
â”‚ [ê¸°íƒ€ìš©í’ˆ          ]               â”‚
â”‚                                    â”‚
â”‚ ì„¤ëª…                               â”‚
â”‚ [ë¶„ë¥˜ë˜ì§€ ì•Šì€ í’ˆëª©]               â”‚
â”‚                                    â”‚
â”‚ í‘œì‹œ ìˆœì„œ                          â”‚
â”‚ [14]                               â”‚
â”‚ ìˆ«ìê°€ ì‘ì„ìˆ˜ë¡ ë¨¼ì € í‘œì‹œë©ë‹ˆë‹¤    â”‚
â”‚                                    â”‚
â”‚ â˜ í™œì„± ìƒíƒœ                        â”‚
â”‚                                    â”‚
â”‚            [ì·¨ì†Œ]  [ì €ì¥]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. CRUD ê¸°ëŠ¥
- âœ… **ì¡°íšŒ**: ì¹´í…Œê³ ë¦¬ ëª©ë¡ + í’ˆëª© ê°œìˆ˜
- âœ… **ìƒì„±**: ì½”ë“œ/ì´ë¦„ ì¤‘ë³µ ì²´í¬
- âœ… **ìˆ˜ì •**: ì½”ë“œ/ì´ë¦„/ì„¤ëª…/ìˆœì„œ/ìƒíƒœ ë³€ê²½
- âœ… **ì‚­ì œ**: í’ˆëª©ì´ ì—†ì„ ë•Œë§Œ ê°€ëŠ¥

---

### 2. ë°ì´í„° ë¬´ê²°ì„±
- âœ… ì½”ë“œ ì¤‘ë³µ ë°©ì§€
- âœ… ì´ë¦„ ì¤‘ë³µ ë°©ì§€
- âœ… ì‚¬ìš© ì¤‘ì¸ ì¹´í…Œê³ ë¦¬ ì‚­ì œ ë°©ì§€
- âœ… ì™¸ë˜í‚¤ ì œì•½ ì¡°ê±´

---

### 3. ê¶Œí•œ ì œì–´
- âœ… ì‹œìŠ¤í…œ ê´€ë¦¬ìë§Œ ì ‘ê·¼
- âœ… ì›ì¥/ë§¤ë‹ˆì €ëŠ” ì ‘ê·¼ ë¶ˆê°€
- âœ… ë©”ë‰´ì—ì„œë„ ê¶Œí•œë³„ í‘œì‹œ

---

## ğŸ“‹ ì‹¤í–‰ ìˆœì„œ ìš”ì•½

### 1. Supabase SQL ì‹¤í–‰
```sql
-- âœ… database/product_categories_rpc.sql
```

### 2. ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸
1. admin ë¡œê·¸ì¸
2. ê´€ë¦¬ > ì¹´í…Œê³ ë¦¬ í´ë¦­
3. ì¹´í…Œê³ ë¦¬ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ í…ŒìŠ¤íŠ¸

---

## ğŸ‰ ì™„ë£Œ!

### ìƒì„±ëœ í˜ì´ì§€
- âœ… `/admin/categories` - ì¹´í…Œê³ ë¦¬ ê´€ë¦¬

### ìƒì„±ëœ íŒŒì¼ (7ê°œ)
1. `database/product_categories_rpc.sql`
2. `app/admin/categories/actions.ts`
3. `app/admin/categories/page.tsx`
4. `components/admin/categories/CategoryManagement.tsx`
5. `components/admin/categories/CategoryTable.tsx`
6. `components/admin/categories/CategoryForm.tsx`
7. `types/permissions.ts` (ìˆ˜ì •)
8. `components/shared/Navigation.tsx` (ìˆ˜ì •)

---

## ğŸ’¡ ë‹¤ìŒ ì‘ì—…

### ì˜µì…˜ A: ë ˆí¬íŠ¸ ì¹´í…Œê³ ë¦¬ í•„í„° ì¶”ê°€
- íŒë§¤/êµ¬ë§¤ ë ˆí¬íŠ¸ì—ì„œ íŠ¹ì • ì¹´í…Œê³ ë¦¬ë§Œ ì¡°íšŒ
- ì˜ˆìƒ ì†Œìš”: 1-2ì‹œê°„

---

**ì‘ì„±ì¼**: 2025-01-26  
**ìƒíƒœ**: âœ… êµ¬í˜„ ì™„ë£Œ  
**ë‹¤ìŒ ì‘ì—…**: SQL ì‹¤í–‰ ë° í…ŒìŠ¤íŠ¸

