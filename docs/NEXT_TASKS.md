# 다음 작업 목록 및 우선순위

> **작성일**: 2025년 1월 25일  
> **완료된 작업**: ✅ 지점 관리, ✅ 부가세 자동계산

---

## 📋 남은 작업 목록

### ✅ 완료
1. **지점 추가/삭제 등 지점 관리 페이지** - 완료 ✅
2. **부가세 자동계산 (공급가/부가세/합계)** - 완료 ✅
3. **화면 깜빡임 제거** - 완료 ✅

### 🎯 남은 작업
2. **월간 이익관리 레포트 기능**
3. **CSS 일원화 (디자인 시스템 통일)**
4. **반응형 개선 (현재 불편함)**
5. **온라인 발주 시스템 (대규모 기능)**

---

## 🔍 현재 코드베이스 분석 결과

### ✅ 잘 되어 있는 것
1. **레이아웃 시스템 통일**: `PageLayout`, `ContentCard`, `PageHeader` 등 공용 컴포넌트 존재
2. **반응형 가이드 문서화**: `docs/RESPONSIVE_DESIGN.md`에 상세 가이드 있음
3. **Tailwind CSS 사용**: 일관된 유틸리티 클래스 패턴
4. **컴포넌트 구조**: `components/shared/`, `components/ui/` 분리

### ⚠️ 개선 필요한 것
1. **CSS 중복**: 각 페이지/컴포넌트마다 비슷한 클래스 반복 사용
2. **반응형 미흡**: AG Grid, 폼, 테이블이 모바일에서 불편
3. **색상 통일 부족**: 파란색 톤이 여러 버전으로 사용됨 (`blue-50`, `blue-100`, `blue-600` 등)
4. **레포트 기능 없음**: 통계는 있지만 인쇄/PDF 출력 없음

---

## 🚀 추천 작업 순서 (효율성 기준)

### **1단계: CSS 일원화 (3~4시간)** 🎨
**왜 먼저?**
- 다른 작업의 기반이 됨
- 한 번 정리하면 이후 작업 속도 2배 향상
- 반응형 개선 전에 해야 중복 작업 방지

**작업 내용**:
```typescript
// 1. 테마 색상 정의 (globals.css 또는 tailwind.config.ts)
- primary: blue-600 (기본 액션)
- success: green-600 (성공, 저장)
- danger: red-600 (삭제, 경고)
- warning: yellow-500 (알림)
- gray 톤: 50~900 (배경, 텍스트)

// 2. 공통 스타일 컴포넌트 추가
- FormGrid: 폼 입력 레이아웃 통일
- StatusBadge: 상태 표시 배지
- ActionButton: 액션 버튼 통일
- DataCard: 통계/카드 통일

// 3. 기존 페이지 리팩토링
- 입고/판매/재고/거래처/품목 페이지에 적용
- 중복 className 제거
```

**예상 효과**:
- ✅ 코드 50% 감소
- ✅ 유지보수성 3배 향상
- ✅ 다음 단계 작업 속도 향상

**난이도**: ⭐⭐☆☆☆ (쉬움, 검색/치환 작업)

---

### **2단계: 반응형 개선 (4~5시간)** 📱
**왜 두 번째?**
- CSS 통일 후 작업하면 일괄 수정 가능
- 레포트 기능 추가 전에 레이아웃 완성 필요
- 실사용자 불편 빠르게 해소

**작업 내용**:
```typescript
// 1. AG Grid 반응형 개선
- 모바일: 세로 스크롤 + 주요 컬럼만 표시
- 태블릿: 가로 스크롤
- 데스크톱: 전체 표시

// 2. 폼 입력 개선
- 모바일: 1열 (세로)
- 태블릿: 2열
- 데스크톱: 4~6열

// 3. 테이블 개선
- 모바일: 카드 뷰 전환 (테이블 → 목록)
- 중요 정보만 표시, 상세는 클릭

// 4. Navigation 개선
- 모바일: 햄버거 메뉴 개선
- 스크롤 시 고정 헤더
```

**예상 효과**:
- ✅ 모바일 사용성 5배 향상
- ✅ 태블릿 완벽 지원
- ✅ 현장 직원 생산성 향상

**난이도**: ⭐⭐⭐☆☆ (중간, 테스트 많음)

---

### **3단계: 월간 이익관리 레포트 (5~6시간)** 📊
**왜 세 번째?**
- CSS + 반응형이 완성된 후 UI 작업 쉬움
- DB 쿼리만 추가하면 됨 (테이블 변경 없음)
- 온라인 발주보다 훨씬 간단

**작업 내용**:
```typescript
// 1. 새 페이지 생성
app/reports/monthly/page.tsx

// 2. DB 쿼리 추가
database/reports_rpc_functions.sql
- get_monthly_profit_report(year, month)
  → 월별 매입/매출/이익 집계
- get_product_profit_ranking(year, month)
  → 품목별 이익 순위

// 3. UI 컴포넌트
components/reports/MonthlyReportTable.tsx
components/reports/ProfitChart.tsx (차트 라이브러리)
components/reports/ExportButton.tsx (Excel/PDF)

// 4. 차트 라이브러리 설치
npm install recharts
- 라인 차트: 월별 추이
- 바 차트: 품목별 비교
```

**예상 효과**:
- ✅ 경영진 의사결정 지원
- ✅ 실시간 이익 모니터링
- ✅ 품목별 수익성 분석

**난이도**: ⭐⭐⭐☆☆ (중간, SQL + 차트)

---

### **4단계: 온라인 발주 시스템 (15~20시간)** 📦
**왜 마지막?**
- 가장 복잡하고 시간 많이 소요
- 다른 기능들이 완성된 후 안정적으로 추가
- 발주 → 입고 연동 로직 복잡

**작업 내용**:
```typescript
// 1. DB 스키마 추가
database/orders_table.sql
- orders (발주서)
- order_items (발주 품목)
- order_status: 신청 → 승인 → 입고대기 → 완료

// 2. 페이지 추가
app/orders/request/page.tsx      (발주 신청)
app/orders/manage/page.tsx       (관리자: 발주 수신/승인)
app/orders/list/page.tsx         (발주 내역)

// 3. 거래명세서 인쇄
components/orders/InvoicePrint.tsx
- @react-pdf/renderer 사용
- 또는 window.print() CSS

// 4. 워크플로우 구현
- 발주 신청 → 알림
- 관리자 승인 → 알림
- 입고 확인 → purchases 테이블 자동 생성
- 출고 확인 → sales 테이블 연동

// 5. 권한 체크
- 사용자: 발주 신청만
- 매니저: 승인 가능
- 관리자: 전체 관리
```

**예상 효과**:
- ✅ 발주 프로세스 디지털화
- ✅ 재고 자동 관리
- ✅ 거래 이력 추적

**난이도**: ⭐⭐⭐⭐⭐ (어려움, 복잡한 워크플로우)

---

## 📊 작업 우선순위 비교표

| 작업 | 시간 | 난이도 | 효과 | 우선순위 | 의존성 |
|------|------|--------|------|----------|--------|
| **CSS 일원화** | 3~4h | ⭐⭐ | ⭐⭐⭐⭐⭐ | 🥇 1순위 | 없음 |
| **반응형 개선** | 4~5h | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 🥈 2순위 | CSS 통일 |
| **이익 레포트** | 5~6h | ⭐⭐⭐ | ⭐⭐⭐⭐ | 🥉 3순위 | CSS + 반응형 |
| **온라인 발주** | 15~20h | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | 4순위 | 모든 기능 완성 |

---

## 💡 최종 추천 순서

```
1단계 (오늘 3~4시간)
└─ CSS 일원화
   ├─ 테마 색상 정의
   ├─ 공통 컴포넌트 생성
   └─ 기존 페이지 리팩토링

2단계 (내일 4~5시간)
└─ 반응형 개선
   ├─ AG Grid 모바일 최적화
   ├─ 폼 레이아웃 개선
   └─ 테이블 카드뷰 추가

3단계 (모레 5~6시간)
└─ 월간 이익 레포트
   ├─ DB 쿼리 작성
   ├─ 차트 추가
   └─ Excel/PDF 출력

4단계 (다음주 15~20시간)
└─ 온라인 발주 시스템
   ├─ DB 스키마 설계
   ├─ 워크플로우 구현
   ├─ 거래명세서 인쇄
   └─ 입고/출고 연동
```

---

## 🎯 즉시 시작 가능한 작업

### **CSS 일원화부터 시작하시겠습니까?**

**장점**:
- ✅ 가장 빠르게 완료 가능 (3~4시간)
- ✅ 즉시 코드 품질 향상
- ✅ 다음 작업 속도 2배 향상
- ✅ 위험 부담 없음 (기능 변경 없음)

**첫 단계**:
1. `globals.css`에 CSS 변수 정의
2. `components/shared/` 에 공통 컴포넌트 추가
3. 입고 페이지부터 리팩토링 시작

---

**작업 시작할까요? 어떤 순서로 진행하시겠습니까?** 🚀
